<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="articleapp.SpecificArticle"
             xmlns:icons="clr-namespace:articleapp.Resources.Icons">
    <!--   Text="{x:Static icons:IconFont.ArrowLeftLong}" -->
        <ContentPage.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#0a0426" Offset="0.5" />
            <GradientStop Color="#000000" Offset="0.0" />
            <GradientStop Color="#1a0b2e" Offset="1.0" />
        </LinearGradientBrush>
    </ContentPage.Background>

    <ScrollView>
        <Grid RowSpacing="0" Padding="20,10">
            <!-- Header -->
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            
            <Grid ColumnDefinitions="Auto,*,Auto" Margin="0,10,0,20">
                <Button Grid.Column="0"
                        BackgroundColor="Black"

                        
                        HeightRequest="45"
                        WidthRequest="45"
                        CornerRadius="23"/>

                <Button Grid.Column="2"
                        Text="â‹®"
                        FontSize="20"
                        Padding="5"
                        TextColor="White"
                        BackgroundColor="Transparent"
                        HeightRequest="45"
                        WidthRequest="45"/>
            </Grid>

            <VerticalStackLayout Grid.Row="1" Spacing="20">
                <!-- Article Title -->
                <Label Text="{Binding Title}"
                       TextColor="White"
                       FontSize="32"
                       FontFamily="Jersey15"
                       LineBreakMode="WordWrap"/>

                <!-- Author Section -->
                <Frame BackgroundColor="#0F172A"
                       Padding="20"
                       CornerRadius="20"
                       BorderColor="#1E293B"
                       Margin="0,10">
                    <Grid ColumnDefinitions="Auto,*,Auto" 
                          ColumnSpacing="15">
                        <Frame Grid.Column="0"
                               HeightRequest="55"
                               WidthRequest="55"
                               CornerRadius="27.5"
                               Padding="0"
                               BorderColor="#334155"
                               IsClippedToBounds="True">
                            <Image Source="{Binding AuthorImage}"
                                   Aspect="AspectFill"/>
                        </Frame>

                        <VerticalStackLayout Grid.Column="1" 
                                           Spacing="5"
                                           VerticalOptions="Center">
                            <Label Text="{Binding AuthorName}"
                                   TextColor="White"
                                   FontFamily="Jersey15"
                                   FontSize="20"/>
                            <Label Text="{Binding PublishDate}"
                                   TextColor="#64748B"
                                   FontFamily="Jersey15"
                                   FontSize="14"/>
                        </VerticalStackLayout>

                        <Button Grid.Column="2"
                                Text="Follow"
                                BackgroundColor="#1E293B"
                                TextColor="#4F46E5"
                                FontFamily="Jersey15"
                                FontSize="16"
                                BorderColor="#4F46E5"
                                BorderWidth="1.5"
                                CornerRadius="20"
                                HeightRequest="45"
                                VerticalOptions="Center"
                                Padding="25,0"/>
                    </Grid>
                </Frame>

                <!-- Article Image -->
                <Frame Padding="0"
                       IsClippedToBounds="True"
                       CornerRadius="20"
                       BorderColor="#334155">
                    <Image Source="{Binding ArticleImage}"
                           Aspect="AspectFill"
                           HeightRequest="300"/>
                </Frame>

                <!-- Article Content -->
                <Frame BackgroundColor="#0F172A"
                       Padding="20"
                       CornerRadius="20"
                       BorderColor="#1E293B"
                       Margin="0,10">
                    <Label Text="{Binding Content}"
                           TextColor="#E2E8F0"
                           FontFamily="Jersey15"
                           FontSize="16"
                           LineHeight="1.8"/>
                </Frame>

                <!-- Interaction Bar -->
                <Frame BackgroundColor="#1E293B"
                       Padding="15"
                       CornerRadius="20"
                       BorderColor="#334155">
                    <Grid ColumnDefinitions="Auto,Auto,*" 
                          ColumnSpacing="20">
                        <HorizontalStackLayout Grid.Column="0" 
                                             Spacing="8">
                            <Button ImageSource="heart.png"
                                    BackgroundColor="Transparent"
                                    HeightRequest="28"
                                    WidthRequest="28"/>
                            <Label Text="{Binding LikesCount}"
                                   TextColor="#94A3B8"
                                   VerticalOptions="Center"
                                   FontSize="16"/>
                        </HorizontalStackLayout>

                        <HorizontalStackLayout Grid.Column="1" 
                                             Spacing="8">
                            <Button ImageSource="comment.png"
                                    BackgroundColor="Transparent"
                                    HeightRequest="28"
                                    WidthRequest="28"/>
                            <Label Text="{Binding CommentsCount}"
                                   TextColor="#94A3B8"
                                   VerticalOptions="Center"
                                   FontSize="16"/>
                        </HorizontalStackLayout>

                        <Button Grid.Column="2"
                                ImageSource="bookmark.png"
                                BackgroundColor="Transparent"
                                HeightRequest="28"
                                WidthRequest="28"
                                HorizontalOptions="End"/>
                    </Grid>
                </Frame>

              
                <Label Text="Comments"
                       TextColor="White"
                       FontSize="24"
                       FontFamily="Jersey15"
                       Margin="0,10"/>

                
                <CollectionView ItemsSource="{Binding Comments}"
                              ItemsLayout="VerticalList"
                              Margin="0,10">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Frame BackgroundColor="#0F172A"
                                   Margin="0,0,0,15"
                                   Padding="20"
                                   CornerRadius="20"
                                   BorderColor="#1E293B">
                                <Grid RowSpacing="15">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- Comment Header -->
                                    <Grid ColumnDefinitions="Auto,*,Auto">
                                        <Frame Grid.Column="0"
                                               HeightRequest="45"
                                               WidthRequest="45"
                                               CornerRadius="22.5"
                                               Padding="0"
                                               IsClippedToBounds="True">
                                            <Image Source="{Binding UserImage}"
                                                   Aspect="AspectFill"/>
                                        </Frame>

                                        <VerticalStackLayout Grid.Column="1" 
                                                           Margin="12,0"
                                                           VerticalOptions="Center">
                                            <Label Text="{Binding UserName}"
                                                   TextColor="White"
                                                   FontFamily="Jersey15"
                                                   FontSize="16"/>
                                            <Label Text="{Binding CommentDate}"
                                                   TextColor="#94A3B8"
                                                   FontSize="12"
                                                   FontFamily="Jersey15"/>
                                        </VerticalStackLayout>
                                    </Grid>

                                    <!-- Comment Content -->
                                    <Label Grid.Row="1"
                                           Text="{Binding Content}"
                                           TextColor="#E2E8F0"
                                           FontFamily="Jersey15"
                                           FontSize="15"
                                           LineHeight="1.6"/>

                                   
                                    <HorizontalStackLayout Grid.Row="2" 
                                                         Spacing="15">
                                        <Button ImageSource="heart.png"
                                                BackgroundColor="Transparent"
                                                HeightRequest="24"
                                                WidthRequest="24"/>
                                        <Label Text="{Binding LikesCount}"
                                               TextColor="#94A3B8"
                                               VerticalOptions="Center"
                                               FontSize="14"/>
                                        <Label Text="Reply"
                                               TextColor="#4F46E5"
                                               VerticalOptions="Center"
                                               FontFamily="Jersey15"
                                               FontSize="14"/>
                                    </HorizontalStackLayout>
                                </Grid>
                            </Frame>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>

                <!-- Comment Input -->
                <Frame BackgroundColor="#1E293B"
                       Padding="0,0,0,0"
                       CornerRadius="25"
                      
                       Margin="0,10,0,30">
                    <Grid ColumnDefinitions="*,Auto" ColumnSpacing="10">
                        <Entry Grid.Column="0"
                               Placeholder="Write a comment..."
                               PlaceholderColor="#64748B"
                               
                               TextColor="White"
                               BackgroundColor="Transparent"
                               FontFamily="Jersey15"
                               FontSize="16"
                               Margin="12,0"/>

                        <Button Grid.Column="1"
                                Text="Post"
                                FontFamily="Jersey15"
                                FontSize="16"
                                CornerRadius="20"
                                HeightRequest="45"
                                Padding="25,0">
                            <Button.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="#4F46E5" Offset="0.0" />
                                    <GradientStop Color="#7C3AED" Offset="1.0" />
                                </LinearGradientBrush>
                            </Button.Background>
                        </Button>
                    </Grid>
                </Frame>
            </VerticalStackLayout>
        </Grid>
    </ScrollView>
</ContentPage>

